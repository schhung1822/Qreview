@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Backgrounds */
    --background: 0 0% 100%;
    /* #FFFFFF */
    --foreground: 224 71.4% 4.1%;
    /* #1C274C (dark) */

    /* Surfaces */
    --surface: 210 40% 98%;
    /* #F9FAFB (gray-1) */
    --surface-hover: 214 32% 96%;
    /* #F3F4F6 (gray-2) */

    /* Borders */
    --border: 220 13% 91%;
    /* #E5E7EB (gray-3) */
    --border-hover: 215 16% 82%;
    /* #D1D5DB (gray-4) */

    /* Text */
    --text-primary: 222 47% 11%;
    /* #1C274C (dark) */
    --text-secondary: 220 14% 41%;
    /* #606882 (dark-3) */
    --text-muted: 220 9% 58%;
    /* #8D93A5 (dark-4) */
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 220.9 39.3% 11%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --input: 220 13% 91%;
    --ring: 224 71.4% 4.1%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }

  .dark {
    /* Backgrounds */
    --background: 0 0% 4%;
    /* #0a0a0a - very dark background */
    --foreground: 210 20% 98%;
    /* #f0f4f8 - light text */

    /* Surfaces */
    --surface: 0 0% 9%;
    /* #171717 - slightly lighter for contrast */
    --surface-hover: 220 13% 23%;
    /* #2f3848 - hover state */

    /* Borders */
    --border: 215 27.9% 16.9%;
    /* #3d4557 - subtle border */
    --border-hover: 220 13% 35%;
    /* #4d5566 - border on hover */

    /* Text */
    --text-primary: 210 40% 95%;
    /* #f0f4f8 - bright light text */
    --text-secondary: 220 12% 75%;
    /* #bcc5d0 - medium light text */
    --text-muted: 220 8% 55%;
    /* #8a929f - muted text */
    --card: 0 0% 4%;
    --card-foreground: 210 20% 98%;
    --popover: 0 0% 4%;
    --popover-foreground: 210 20% 98%;
    --primary: 210 20% 98%;
    --primary-foreground: 220.9 39.3% 11%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --input: 215 27.9% 16.9%;
    --ring: 216 12.2% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply font-euclid-circular-a font-normal text-base relative z-1;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Vô hiệu hóa transitions khi chuyển theme */
  html.disable-transitions,
  html.disable-transitions *,
  html.disable-transitions *::before,
  html.disable-transitions *::after {
    transition: none !important;
    animation: none !important;
  }
}

@layer components {
  .dropdown {
    @apply flex-col gap-0 min-w-max xl:w-[193px] mt-2 lg:mt-0 shadow-2 ease-in duration-200 py-2.5 rounded-md left-0 hidden xl:translate-y-10 xl:opacity-0 xl:invisible xl:absolute xl:flex xl:group-hover:opacity-100 xl:group-hover:visible transition-all;
    background-color: hsl(var(--background));
    border: 1px solid hsl(var(--border));
  }
}

@layer utilities {

  /* Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
  }
}

/* third-party libraries CSS */

/* clears the ‘X’ from Internet Explorer */
input[type='search']::-ms-clear {
  display: none;
  width: 0;
  height: 0;
}

input[type='search']::-ms-reveal {
  display: none;
  width: 0;
  height: 0;
}

/* clears the ‘X’ from Chrome */
input[type='search']::-webkit-search-decoration,
input[type='search']::-webkit-search-cancel-button,
input[type='search']::-webkit-search-results-button,
input[type='search']::-webkit-search-results-decoration {
  display: none;
}

.custom-search {
  -webkit-border-radius: 0;
  -webkit-border-top-right-radius: 5px;
  -webkit-border-bottom-right-radius: 5px;
}

/* The container must be positioned relative: */
.custom-select select {
  display: none;
  /*hide original SELECT element: */
}

.select-selected {
  @apply rounded-l-[5px] border !border-r-0 cursor-pointer text-custom-sm py-[11px] pl-3.5 pr-8 relative;
  background-color: hsl(var(--surface));
  border-color: hsl(var(--border));
  color: hsl(var(--text-primary));
}

/* Style the arrow inside the select element: */
.select-selected:after {
  content: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.00005 5.54998C4.88755 5.54998 4.7938 5.51248 4.70005 5.43748L0.387549 1.19998C0.218799 1.03123 0.218799 0.768726 0.387549 0.599976C0.556299 0.431226 0.818799 0.431226 0.987549 0.599976L5.00005 4.51873L9.01255 0.562476C9.1813 0.393726 9.4438 0.393726 9.61255 0.562476C9.7813 0.731226 9.7813 0.993726 9.61255 1.16248L5.30005 5.39998C5.2063 5.49373 5.11255 5.54998 5.00005 5.54998Z' fill='%231C274C'/%3E%3C/svg%3E%0A");
  @apply absolute top-1/2 -translate-y-1/2 right-4.5 ease-out duration-200 transition-all;
  opacity: 1;
}

.dark .select-selected:after {
  filter: brightness(0.95) invert(0.9);
}

/* Contact popup animations */
@keyframes fadeInSoft {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes zoomInSoft {
  from {
    opacity: 0;
    transform: scale(0.97);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.backdrop-fade {
  animation: fadeInSoft 180ms ease-out;
}

.popup-zoom {
  animation: zoomInSoft 200ms ease-out;
}

/* Point the arrow upwards when the select box is open (active): */
.select-selected.select-arrow-active:after {
  @apply rotate-180 mt-0.5;
}

/* style the items (options), including the selected item: */
.select-items div {
  @apply cursor-pointer text-custom-sm py-[7px] px-4.5;
  color: hsl(var(--text-secondary));
}

/* Style items (options): */
.select-items {
  @apply absolute top-full left-0 right-0 z-99 shadow-2 border rounded-md py-2.5 mt-1.5;
  background-color: hsl(var(--background));
  border-color: hsl(var(--border));
}

/* Hide the items when the select box is closed: */
.select-hide {
  display: none;
}

.select-items div:hover,
.same-as-selected {
  background-color: hsl(var(--surface));
  color: hsl(var(--text-primary));
  transition: background-color 0.2s ease, color 0.2s ease;
}

.custom-select-2 .select-selected {
  @apply rounded-md !border-r py-1.5 pl-3 pr-9;
  background-color: hsl(var(--background));
  color: hsl(var(--text-muted));
}

.custom-select-2 .select-selected:after {
  content: url("data:image/svg+xml,%3Csvg width='14' height='8' viewBox='0 0 14 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.41444 1.03563L1.41443 1.03565L1.41725 1.0384L6.76725 6.2634L7.00126 6.49194L7.23418 6.26229L12.5842 0.987287L12.5842 0.987293L12.5858 0.985629C12.6807 0.890804 12.8196 0.890804 12.9144 0.985629C13.009 1.08018 13.0093 1.21861 12.9153 1.31341C12.915 1.31368 12.9147 1.31395 12.9144 1.31422L7.16652 6.96217L7.16651 6.96216L7.16444 6.96422C7.06814 7.06053 7.02327 7.06659 7.00015 7.06659C6.94122 7.06659 6.89018 7.05216 6.8204 6.99902L1.08502 1.36339C0.991024 1.26859 0.991301 1.13018 1.08585 1.03563C1.18067 0.940804 1.31962 0.940804 1.41444 1.03563Z' fill='%238D93A5' stroke='%238D93A5' stroke-width='0.666667'/%3E%3C/svg%3E%0A");
  @apply right-3.5;
}

.custom-select-common .select-selected {
  @apply rounded-md !border-r py-3 pl-5 pr-9 duration-200 focus:border-transparent focus:shadow-input focus:ring-2 focus:ring-blue/20;
  background-color: hsl(var(--surface));
  color: hsl(var(--text-muted));
}

.custom-select-common .select-selected:after {
  content: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.41469 5.03569L2.41467 5.03571L2.41749 5.03846L7.76749 10.2635L8.0015 10.492L8.23442 10.2623L13.5844 4.98735L13.5844 4.98735L13.5861 4.98569C13.6809 4.89086 13.8199 4.89087 13.9147 4.98569C14.0092 5.08024 14.0095 5.21864 13.9155 5.31345C13.9152 5.31373 13.915 5.31401 13.9147 5.31429L8.16676 10.9622L8.16676 10.9622L8.16469 10.9643C8.06838 11.0606 8.02352 11.0667 8.00039 11.0667C7.94147 11.0667 7.89042 11.0522 7.82064 10.9991L2.08526 5.36345C1.99127 5.26865 1.99154 5.13024 2.08609 5.03569C2.18092 4.94086 2.31986 4.94086 2.41469 5.03569Z' fill='%238D93A5' stroke='%238D93A5' stroke-width='0.666667'/%3E%3C/svg%3E%0A");
  @apply right-4 block mt-1;
}

.custom-select-common .select-selected.select-arrow-active:after {
  @apply -mt-0.5;
}


.hero-carousel .swiper-pagination-bullet {
  @apply h-1 w-4 rounded-[11px] bg-[#DDD];
}

.hero-carousel .swiper-pagination-bullet-active {
  @apply w-5.5 bg-blue;
}

.hero-carousel .swiper-pagination {
  @apply xl:!bottom-5;
}

.common-carousel .swiper-button-next:after,
.common-carousel .swiper-button-prev:after {
  @apply hidden;
}

.common-carousel .swiper-button-next,
.common-carousel .swiper-button-prev {
  @apply !static h-9 w-9 rounded-lg border m-0 ease-out duration-200 hover:bg-blue hover:text-white hover:border-blue transition-colors;
  background-color: hsl(var(--background));
  color: hsl(var(--text-primary));
  border-color: hsl(var(--border));
}

.common-carousel .swiper-button-next svg,
.common-carousel .swiper-button-prev svg {
  @apply w-auto h-auto;
}

.img-zoom-container img {
  transition: 0.8s;
}

.img-zoom-container img:hover {
  transform: scale(2) rotate(0deg);
  transition: 0.8s;
}

.priceSlide .noUi-target {
  @apply mb-5 mt-9 border-none bg-transparent shadow-none;
}

.priceSlide .noUi-connects {
  @apply h-1 rounded-full transition-colors;
  background-color: hsl(var(--border));
}

.priceSlide .noUi-connect {
  @apply h-1 rounded-full bg-blue transition-colors;
}

.priceSlide .noUi-horizontal .noUi-handle {
  @apply -top-3 h-7 w-7 rounded-full border border-gray-4 shadow-range before:block before:absolute before:left-1/2 before:top-1/2 before:-translate-x-1/2 before:-translate-y-1/2 before:w-4 before:h-4 before:rounded-full before:bg-blue transition-colors;
  background-color: hsl(var(--surface));
}

.priceSlide .noUi-tooltip {
  @apply border-none p-0 bg-transparent text-custom-sm text-dark-4;
}

.noUi-horizontal .noUi-handle:after,
.noUi-horizontal .noUi-handle:before {
  @apply hidden;
}


.range-slider {
  @apply w-full !h-[4px] rounded-md bg-blue relative mb-3;
}

.slider .thumb {
  @apply w-6 h-6 bg-blue-dark rounded-full absolute -top-2 border-[5px] border-blue-light-4;
}

.range-slider__thumb {
  @apply !bg-white border-[1px] border-blue-light-4 flex justify-center items-center !w-7 !h-7;
}

.range-slider__thumb::after {
  content: "";
  width: 16px;
  height: 16px;
  display: block;
  border-radius: 100%;
  position: absolute;
  @apply bg-blue;
}

.range-slider__range {
  @apply !bg-blue;
}

/* Dark mode optimizations */
.dark input,
.dark textarea,
.dark select {
  background-color: hsl(var(--surface));
  color: hsl(var(--text-primary));
  border-color: hsl(var(--border));
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  background-color: hsl(var(--surface-hover));
  border-color: hsl(var(--border-hover));
}

.dark input::placeholder {
  color: hsl(var(--text-muted));
}

/* Smooth transitions for all theme-aware elements */
.dark .btn,
.dark a,
.dark button,
.dark [role="button"] {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.dark * {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.disable-transitions .dark * {
  transition: none !important;
}



@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}
